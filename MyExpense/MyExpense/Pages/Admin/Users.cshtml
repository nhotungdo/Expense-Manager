@page
@model MyExpense.Pages.Admin.UsersModel
@attribute [Microsoft.AspNetCore.Authorization.Authorize(Roles = "ADMIN")]
@{
    ViewData["Title"] = "Quản lý người dùng";
}

<h2>Quản lý người dùng</h2>

<table class="table table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>Email</th>
            <th>Tên</th>
            <th>Role</th>
            <th>Enabled</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var u in Model.Users)
{
        <tr>
            <td>@u.Id</td>
            <td>@u.Email</td>
            <td>@u.FullName</td>
            <td>@u.Role</td>
            <td>@u.Enabled</td>
            <td>
                <form method="post">
                    <input type="hidden" name="id" value="@u.Id" />
                    <button class="btn btn-sm btn-secondary" name="action" value="toggle">Toggle Enabled</button>
                    <button class="btn btn-sm btn-warning" name="action" value="makeAdmin">Make Admin</button>
                    <button class="btn btn-sm btn-outline-dark" name="action" value="makeUser">Make User</button>
                </form>
            </td>
        </tr>
}
    </tbody>
</table>


