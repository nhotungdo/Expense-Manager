@page
@model MoneyTracker.Pages.OnboardingModel
@{
    ViewData["Title"] = "Chào mừng đến với Money Tracking";
    Layout = null;
}

<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Money Tracking</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/css/flopay-onboarding.css" asp-append-version="true" />
</head>

<body>
    <div class="onboarding-container">
        <!-- Background Elements -->
        <div class="background-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
            <div class="shape shape-4"></div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-steps">
                <div class="step-dot active" data-step="1">
                    <i class="fas fa-user"></i>
                </div>
                <div class="step-dot" data-step="2">
                    <i class="fas fa-cog"></i>
                </div>
                <div class="step-dot" data-step="3">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="step-dot" data-step="4">
                    <i class="fas fa-check"></i>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="onboarding-content">
            <div class="onboarding-card">
                <!-- Step 1: Welcome -->
                <div class="step-content active" id="step1">
                    <div class="step-header">
                        <div class="welcome-icon">
                            <div class="icon-circle">
                                <i class="fas fa-wallet"></i>
                            </div>
                        </div>
                        <h1 class="step-title">Chào mừng đến với Money Tracking</h1>
                        <p class="step-subtitle">Người bạn đồng hành quản lý tài chính cá nhân của bạn</p>
                    </div>

                    <div class="step-body">
                        <div class="user-profile-card">
                            <div class="user-avatar-container">
                                <img id="userAvatar" src="" alt="Avatar" class="user-avatar" style="display: none;">
                                <div id="userAvatarPlaceholder" class="user-avatar-placeholder">
                                    <i class="fas fa-user"></i>
                                </div>
                            </div>
                           
                        </div>

                        <div class="features-preview">
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-chart-pie"></i>
                                </div>
                                <div class="feature-text">
                                    <h4>Smart Analytics</h4>
                                    <p>Track your spending patterns</p>
                                </div>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="feature-text">
                                    <h4>AI Insights</h4>
                                    <p>Get personalized recommendations</p>
                                </div>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div class="feature-text">
                                    <h4>Mobile First</h4>
                                    <p>Access anywhere, anytime</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-actions">
                        <button class="btn btn-primary btn-lg" onclick="nextStep()">
                            <span>Bắt đầu</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                        <button class="btn btn-link" onclick="skipOnboarding()">
                            Bỏ qua thiết lập
                        </button>
                    </div>
                </div>

                <!-- Step 2: Categories Setup -->
                <div class="step-content" id="step2">
                    <div class="step-header">
                        <div class="welcome-icon">
                            <div class="icon-circle">
                                <i class="fas fa-tags"></i>
                            </div>
                        </div>
                        <h1 class="step-title">Thiết lập danh mục</h1>
                        <p class="step-subtitle">Chúng tôi sẽ tạo các danh mục mặc định để giúp bạn tổ chức tài chính
                        </p>
                    </div>

                    <div class="step-body">
                        <div class="categories-grid">
                            <div class="category-section">
                                <h3 class="section-title">
                                    <i class="fas fa-arrow-up text-success"></i>
                                    Danh mục Thu nhập
                                </h3>
                                <div class="categories-list" id="incomeCategories">
                                    <!-- Income categories will be loaded here -->
                                </div>
                            </div>
                            <div class="category-section">
                                <h3 class="section-title">
                                    <i class="fas fa-arrow-down text-danger"></i>
                                    Danh mục Chi tiêu
                                </h3>
                                <div class="categories-list" id="expenseCategories">
                                    <!-- Expense categories will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-actions">
                        <button class="btn btn-outline-secondary" onclick="prevStep()">
                            <i class="fas fa-arrow-left"></i>
                            <span>Quay lại</span>
                        </button>
                        <button class="btn btn-primary btn-lg" onclick="setupCategories()">
                            <span>Thiết lập danh mục</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Goals Setup -->
                <div class="step-content" id="step3">
                    <div class="step-header">
                        <div class="welcome-icon">
                            <div class="icon-circle">
                                <i class="fas fa-bullseye"></i>
                            </div>
                        </div>
                        <h1 class="step-title">Thiết lập mục tiêu</h1>
                        <p class="step-subtitle">Xác định mục tiêu tài chính để duy trì động lực</p>
                    </div>

                    <div class="step-body">
                        <div class="goals-container">
                            <div class="goal-card">
                                <div class="goal-icon">
                                    <i class="fas fa-piggy-bank"></i>
                                </div>
                                <div class="goal-content">
                                    <h4>Mục tiêu tiết kiệm hàng tháng</h4>
                                    <p>Bạn muốn tiết kiệm bao nhiêu mỗi tháng?</p>
                                    <div class="input-group">
                                        <span class="input-group-text">₫</span>
                                        <input type="number" class="form-control" id="savingsGoal" placeholder="1000"
                                            value="1000">
                                    </div>
                                </div>
                            </div>

                            <div class="goal-card">
                                <div class="goal-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="goal-content">
                                    <h4>Giới hạn chi tiêu</h4>
                                    <p>Đặt giới hạn chi tiêu hàng tháng để kiểm soát chi phí</p>
                                    <div class="input-group">
                                        <span class="input-group-text">₫</span>
                                        <input type="number" class="form-control" id="spendingLimit" placeholder="2000"
                                            value="2000">
                                    </div>
                                </div>
                            </div>

                            <div class="goal-card">
                                <div class="goal-icon">
                                    <i class="fas fa-bell"></i>
                                </div>
                                <div class="goal-content">
                                    <h4>Thông báo</h4>
                                    <p>Bạn muốn nhận cập nhật thường xuyên như thế nào?</p>
                                    <select class="form-select" id="notificationFrequency">
                                        <option value="daily">Hàng ngày</option>
                                        <option value="weekly" selected>Hàng tuần</option>
                                        <option value="monthly">Hàng tháng</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-actions">
                        <button class="btn btn-outline-secondary" onclick="prevStep()">
                            <i class="fas fa-arrow-left"></i>
                            <span>Quay lại</span>
                        </button>
                        <button class="btn btn-primary btn-lg" onclick="saveGoals()">
                            <span>Lưu mục tiêu</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 4: Complete -->
                <div class="step-content" id="step4">
                    <div class="step-header">
                        <div class="welcome-icon success">
                            <div class="icon-circle">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        <h1 class="step-title">Hoàn tất!</h1>
                        <p class="step-subtitle">Tài khoản Money Tracking của bạn đã sẵn sàng sử dụng</p>
                    </div>

                    <div class="step-body">
                        <div class="success-animation">
                            <div class="checkmark">
                                <div class="checkmark-circle"></div>
                                <div class="checkmark-stem"></div>
                                <div class="checkmark-kick"></div>
                            </div>
                        </div>

                        <div class="next-steps">
                            <h3>Bước tiếp theo?</h3>
                            <div class="next-steps-list">
                                <div class="next-step-item">
                                    <div class="step-number">1</div>
                                    <div class="step-text">
                                        <h5>Thêm giao dịch đầu tiên</h5>
                                        <p>Bắt đầu theo dõi thu nhập và chi tiêu của bạn</p>
                                    </div>
                                </div>
                                <div class="next-step-item">
                                    <div class="step-number">2</div>
                                    <div class="step-text">
                                        <h5>Khám phá Dashboard</h5>
                                        <p>Xem tổng quan tài chính và thông tin chi tiết</p>
                                    </div>
                                </div>
                                <div class="next-step-item">
                                    <div class="step-number">3</div>
                                    <div class="step-text">
                                        <h5>Tùy chỉnh danh mục</h5>
                                        <p>Thêm hoặc sửa đổi danh mục phù hợp với nhu cầu của bạn</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-actions">
                        <button class="btn btn-primary btn-lg" onclick="goToDashboard()">
                            <span>Đi đến Dashboard</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/flopay-onboarding.js" asp-append-version="true"></script>
</body>

</html>